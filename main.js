(()=>{"use strict";var e;function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var n=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.popup=null}var n,i;return n=e,(i=[{key:"createPopup",value:function(){this.popup=document.createElement("div"),this.popup.classList.add("popup"),this.popup.innerHTML='<div class="popup-text">Вы проиграли!</div>',document.body.append(this.popup)}}])&&t(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),e}();function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var o=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=e,this.countWin=0,this.countLose=0,this.listeners(),this.flag=!0,this.popup=new n,this.hit=document.querySelector(".hit"),this.miss=document.querySelector(".miss")}var o,a;return o=t,(a=[{key:"init",value:function(){this.movieImage()}},{key:"listeners",value:function(){this.container.addEventListener("click",this.clickGame.bind(this))}},{key:"movieImage",value:function(){var t=this;setTimeout((function(){t.countLose>=5?t.popup.createPopup():(function(t){e&&(e.innerHTML="");var n=new Image;n.src="2dbd01ce16c0fa83cb67.png",n.classList.add("image");var i,o=(i=t,Math.floor(Math.random()*(i*i-1)));(e=document.querySelector(".element".concat(o))).append(n)}(4),t.movieImage())}),1e3)}},{key:"clickGame",value:function(e){e.target.classList.contains("image")?(this.countWin+=1,this.hit.innerHTML="Попаданий: ".concat(this.countWin),e.target.parentElement.innerHTML=""):(this.countLose+=1,this.miss.innerHTML="Промахов: ".concat(this.countLose))}}])&&i(o.prototype,a),Object.defineProperty(o,"prototype",{writable:!1}),t}();function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=null,this.activeElem=null,this.boardSize=4}var t,n;return t=e,(n=[{key:"createGamePlay",value:function(){this.container=document.createElement("div"),this.container.classList.add("container"),document.body.append(this.container);for(var e=0;e<this.boardSize*this.boardSize;e+=1){var t=document.createElement("div");t.classList.add("element","element".concat(e)),this.container.append(t)}}},{key:"createPopup",value:function(){this.popup=document.createElement("div"),this.popup.classList.add("popup"),this.popup.textContent="Вы проиграли!",document.body.append(this.popup)}}])&&a(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())).createGamePlay(),new o(document.querySelector(".container")).init()})();